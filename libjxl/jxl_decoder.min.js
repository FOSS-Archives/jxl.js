var JxlCodecModule=function(){var e="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0;return"undefined"!=typeof __filename&&(e=e||__filename),function(r){var n,t,a,i,o,s,u,c,l,f,d,p,h,m,E,v,_,$,g,w,y,x,T,k,O,S,C,b,A,I=void 0!==(r=r||{})?r:{};I.ready=new Promise(function(e,r){t=e,a=r});var N={};for(i in I)I.hasOwnProperty(i)&&(N[i]=I[i]);var R=[],L="./this.program",P=function(e,r){throw r},D=!1,W=!1,j=!1,H=!1;D="object"==typeof window,W="function"==typeof importScripts,j="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,H=!D&&!j&&!W;var M=I.ENVIRONMENT_IS_PTHREAD||!1,B="";function F(e){return I.locateFile?I.locateFile(e,B):B+e}if(j){B=W?require("path").dirname(B)+"/":__dirname+"/",o=function e(r,n){return l||(l=require("fs")),f||(f=require("path")),r=f.normalize(r),l.readFileSync(r,n?null:"utf8")},u=function e(r){var n=o(r,!0);return n.buffer||(n=new Uint8Array(n)),Z(n.buffer),n},process.argv.length>1&&(L=process.argv[1].replace(/\\/g,"/")),R=process.argv.slice(2),process.on("uncaughtException",function(e){if(!(e instanceof rT))throw e}),process.on("unhandledRejection",ev),P=function(e){process.exit(e)},I.inspect=function(){return"[Emscripten Module object]"};try{d=require("worker_threads")}catch(G){throw console.error('The "worker_threads" module is not supported in this node.js build - perhaps a newer version is needed?'),G}global.Worker=d.Worker}else H?("undefined"!=typeof read&&(o=function e(r){return read(r)}),u=function e(r){var n;return"function"==typeof readbuffer?new Uint8Array(readbuffer(r)):(n=read(r,"binary"),Z("object"==typeof n),n)},"undefined"!=typeof scriptArgs?R=scriptArgs:"undefined"!=typeof arguments&&(R=arguments),"function"==typeof quit&&(P=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(D||W)&&(W?B=self.location.href:"undefined"!=typeof document&&document.currentScript&&(B=document.currentScript.src),e&&(B=e),B=0!==B.indexOf("blob:")?B.substr(0,B.lastIndexOf("/")+1):"",j?(o=function e(r,n){return l||(l=require("fs")),f||(f=require("path")),r=f.normalize(r),l.readFileSync(r,n?null:"utf8")},u=function e(r){var n=o(r,!0);return n.buffer||(n=new Uint8Array(n)),Z(n.buffer),n}):(o=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.send(null),r.responseText},W&&(u=function(e){var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),s=function(e,r,n){var t=new XMLHttpRequest;t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(){if(200==t.status||0==t.status&&t.response){r(t.response);return}n()},t.onerror=n,t.send(null)}),c=function(e){document.title=e});j&&"undefined"==typeof performance&&(global.performance=require("perf_hooks").performance);var U=I.print||console.log.bind(console),V=I.printErr||console.warn.bind(console);for(i in N)N.hasOwnProperty(i)&&(I[i]=N[i]);function q(e){q.shown||(q.shown={}),q.shown[e]||(q.shown[e]=1,V(e))}N=null,I.arguments&&(R=I.arguments),I.thisProgram&&(L=I.thisProgram),I.quit&&(P=I.quit);var z=[];function K(e,r){if(!p){p=new WeakMap;for(var n=0;n<S.length;n++){var t=S.get(n);t&&p.set(t,n)}}if(p.has(e))return p.get(e);var a=function e(){if(z.length)return z.pop();try{S.grow(1)}catch(r){if(!(r instanceof RangeError))throw r;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return S.length-1}();try{S.set(a,e)}catch(i){if(!(i instanceof TypeError))throw i;var o=function e(r,n){if("function"==typeof WebAssembly.Function){for(var t={i:"i32",j:"i64",f:"f32",d:"f64"},a={parameters:[],results:"v"==n[0]?[]:[t[n[0]]]},i=1;i<n.length;++i)a.parameters.push(t[n[i]]);return new WebAssembly.Function(a,r)}var o=[1,0,1,96],s=n.slice(0,1),u=n.slice(1),c={i:127,j:126,f:125,d:124};o.push(u.length);for(var i=0;i<u.length;++i)o.push(c[u[i]]);"v"==s?o.push(0):o=o.concat([1,c[s]]),o[1]=o.length-2;var l=new Uint8Array([0,97,115,109,1,0,0,0].concat(o,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),f=new WebAssembly.Module(l);return new WebAssembly.Instance(f,{e:{f:r}}).exports.f}(e,r);S.set(a,o)}return p.set(e,a),a}var Q=0,Y=function(e){Q=e};Atomics.load,Atomics.store,Atomics.compareExchange,I.wasmBinary&&(h=I.wasmBinary);var X=I.noExitRuntime||!1;"object"!=typeof WebAssembly&&ev("no native wasm support detected");var J=!1;function Z(e,r){e||ev("Assertion failed: "+r)}function ee(e,r,n,t,a){var i,o,s={string:function(e){var r=0;if(null!=e&&0!==e){var n=(e.length<<2)+1;r=rv(n),et(e,r,n)}return r},array:function(e){var r,n,t=rv(e.length);return r=e,n=t,$.set(r,n),t}},u=(o=I["_"+(i=e)],Z(o,"Cannot call unknown function "+i+", make sure it is exported"),o),c=[],l=0;if(t)for(var f=0;f<t.length;f++){var d=s[n[f]];d?(0===l&&(l=rm()),c[f]=d(t[f])):c[f]=t[f]}var p,h=u.apply(null,c);return h=(p=h,"string"===r?en(p):"boolean"===r?Boolean(p):p),0!==l&&rE(l),h}function er(e,r,n){for(var t=r+n,a="";!(r>=t);){var i=e[r++];if(!i)break;if(!(128&i)){a+=String.fromCharCode(i);continue}var o=63&e[r++];if((224&i)==192){a+=String.fromCharCode((31&i)<<6|o);continue}var s=63&e[r++];if((i=(240&i)==224?(15&i)<<12|o<<6|s:(7&i)<<18|o<<12|s<<6|63&e[r++])<65536)a+=String.fromCharCode(i);else{var u=i-65536;a+=String.fromCharCode(55296|u>>10,56320|1023&u)}}return a}function en(e,r){return e?er(g,e,r):""}function et(e,r,n){return function e(r,n,t,a){if(!(a>0))return 0;for(var i=t,o=t+a-1,s=0;s<r.length;++s){var u=r.charCodeAt(s);if(u>=55296&&u<=57343&&(u=65536+((1023&u)<<10)|1023&r.charCodeAt(++s)),u<=127){if(t>=o)break;n[t++]=u}else if(u<=2047){if(t+1>=o)break;n[t++]=192|u>>6,n[t++]=128|63&u}else if(u<=65535){if(t+2>=o)break;n[t++]=224|u>>12,n[t++]=128|u>>6&63,n[t++]=128|63&u}else{if(t+3>=o)break;n[t++]=240|u>>18,n[t++]=128|u>>12&63,n[t++]=128|u>>6&63,n[t++]=128|63&u}}return n[t]=0,t-i}(e,g,r,n)}function ea(e,r,n){for(var t=0;t<e.length;++t)$[r++>>0]=e.charCodeAt(t);n||($[r>>0]=0)}M&&(_=I.buffer);var ei=I.INITIAL_MEMORY||78643200;if(M)m=I.wasmMemory,_=I.buffer;else if(I.wasmMemory)m=I.wasmMemory;else if(!((m=new WebAssembly.Memory({initial:ei/65536,maximum:ei/65536,shared:!0})).buffer instanceof SharedArrayBuffer))throw V("requested a shared WebAssembly.Memory but the returned buffer is not a SharedArrayBuffer, indicating that while the browser has SharedArrayBuffer it does not have WebAssembly threads support - you may need to set a flag"),j&&console.log("(on node you may need: --experimental-wasm-threads --experimental-wasm-bulk-memory and also use a recent version)"),Error("bad memory");m&&(_=m.buffer),ei=_.byteLength,_=n=_,I.HEAP8=$=new Int8Array(n),I.HEAP16=w=new Int16Array(n),I.HEAP32=x=new Int32Array(n),I.HEAPU8=g=new Uint8Array(n),I.HEAPU16=y=new Uint16Array(n),I.HEAPU32=T=new Uint32Array(n),I.HEAPF32=k=new Float32Array(n),I.HEAPF64=O=new Float64Array(n);var eo=[],es=[],eu=[],ec=[],el=!1,ef=!1;function ed(){el=!0,M||ey(es)}function ep(e){eo.unshift(e)}function e8(e){ec.unshift(e)}var eh=0,em=null,eE=null;function ev(e){I.onAbort&&I.onAbort(e),M&&console.error("Pthread aborting at "+Error().stack),V(e+=""),J=!0,v=1,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(e);throw a(r),r}function e_(e){return e.startsWith("data:application/octet-stream;base64,")}function e$(e){return e.startsWith("file://")}I.preloadedImages={},I.preloadedAudios={};var eg="jxl_decoder.wasm";function e0(e){try{if(e==eg&&h)return new Uint8Array(h);if(u)return u(e);throw"both async and sync fetching of the wasm failed"}catch(r){ev(r)}}e_(eg)||(eg=F(eg));var ew={159288:function(){throw"Canceled!"},159306:function(e,r){setTimeout(function(){ra(e,r)},0)}};function ey(e){for(;e.length>0;){var r=e.shift();if("function"==typeof r){r(I);continue}var n=r.func;"number"==typeof n?void 0===r.arg?S.get(n)():S.get(n)(r.arg):n(void 0===r.arg?null:r.arg)}}function ex(e){return e}function eT(e){return e.replace(/\b_Z[\w\d_]+/g,function(e){var r,n=r=e;return e===n?e:n+" ["+e+"]"})}var ek={EPERM:63,ENOENT:44,ESRCH:71,EINTR:27,EIO:29,ENXIO:60,E2BIG:1,ENOEXEC:45,EBADF:8,ECHILD:12,EAGAIN:6,EWOULDBLOCK:6,ENOMEM:48,EACCES:2,EFAULT:21,ENOTBLK:105,EBUSY:10,EEXIST:20,EXDEV:75,ENODEV:43,ENOTDIR:54,EISDIR:31,EINVAL:28,ENFILE:41,EMFILE:33,ENOTTY:59,ETXTBSY:74,EFBIG:22,ENOSPC:51,ESPIPE:70,EROFS:69,EMLINK:34,EPIPE:64,EDOM:18,ERANGE:68,ENOMSG:49,EIDRM:24,ECHRNG:106,EL2NSYNC:156,EL3HLT:107,EL3RST:108,ELNRNG:109,EUNATCH:110,ENOCSI:111,EL2HLT:112,EDEADLK:16,ENOLCK:46,EBADE:113,EBADR:114,EXFULL:115,ENOANO:104,EBADRQC:103,EBADSLT:102,EDEADLOCK:16,EBFONT:101,ENOSTR:100,ENODATA:116,ETIME:117,ENOSR:118,ENONET:119,ENOPKG:120,EREMOTE:121,ENOLINK:47,EADV:122,ESRMNT:123,ECOMM:124,EPROTO:65,EMULTIHOP:36,EDOTDOT:125,EBADMSG:9,ENOTUNIQ:126,EBADFD:127,EREMCHG:128,ELIBACC:129,ELIBBAD:130,ELIBSCN:131,ELIBMAX:132,ELIBEXEC:133,ENOSYS:52,ENOTEMPTY:55,ENAMETOOLONG:37,ELOOP:32,EOPNOTSUPP:138,EPFNOSUPPORT:139,ECONNRESET:15,ENOBUFS:42,EAFNOSUPPORT:5,EPROTOTYPE:67,ENOTSOCK:57,ENOPROTOOPT:50,ESHUTDOWN:140,ECONNREFUSED:14,EADDRINUSE:3,ECONNABORTED:13,ENETUNREACH:40,ENETDOWN:38,ETIMEDOUT:73,EHOSTDOWN:142,EHOSTUNREACH:23,EINPROGRESS:26,EALREADY:7,EDESTADDRREQ:17,EMSGSIZE:35,EPROTONOSUPPORT:66,ESOCKTNOSUPPORT:137,EADDRNOTAVAIL:4,ENETRESET:39,EISCONN:30,ENOTCONN:53,ETOOMANYREFS:141,EUSERS:136,EDQUOT:19,ESTALE:72,ENOTSUP:138,ENOMEDIUM:148,EILSEQ:25,EOVERFLOW:61,ECANCELED:11,ENOTRECOVERABLE:56,EOWNERDEAD:62,ESTRPIPE:135};function eO(e,r){if(e<=0||e>$.length||!0&e||r<0)return -28;if(0==r)return 0;r>=2147483647&&(r=1/0);var n=Atomics.load(x,rx>>2),t=0;if(n==e&&Atomics.compareExchange(x,rx>>2,n,0)==n&&(t=1,--r<=0))return 1;var a=Atomics.notify(x,e>>2,r);if(a>=0)return a+t;throw"Atomics.notify returned an unexpected value "+a}function eS(e){if(M)throw"Internal Error! cleanupThread() can only ever be called from main application thread!";if(!e)throw"Internal Error! Null pthread_ptr in cleanupThread!";var r=eC.pthreads[e];if(r){x[e+12>>2]=0;var n=r.worker;eC.returnWorkerToPool(n)}}I._emscripten_futex_wake=eO;var eC={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],initMainThreadBlock:function(){for(var e=0;e<4;++e)eC.allocateUnusedWorker()},initRuntime:function(){for(var e=eJ(228),r=0;r<57;++r)T[e/4+r]=0;x[e+12>>2]=e;var n=e+152;x[n>>2]=n;for(var t=eJ(512),r=0;r<128;++r)T[t/4+r]=0;Atomics.store(T,e+100>>2,t),Atomics.store(T,e+40>>2,e),rl(e,!W,1),rn(e)},initWorker:function(){},pthreads:{},threadExitHandlers:[],runExitHandlers:function(){for(;eC.threadExitHandlers.length>0;)eC.threadExitHandlers.pop()();M&&r8()&&rp()},runExitHandlersAndDeinitThread:function(e,r){Atomics.store(T,e+56>>2,1),Atomics.store(T,e+60>>2,0),eC.runExitHandlers(),Atomics.store(T,e+4>>2,r),Atomics.store(T,e+0>>2,1),eO(e+0,2147483647),rl(0,0,0)},setExitStatus:function(e){v=e},threadExit:function(e){var r=r8();r&&(eC.runExitHandlersAndDeinitThread(r,e),M&&postMessage({cmd:"exit"}))},threadCancel:function(){eC.runExitHandlersAndDeinitThread(r8(),-1),postMessage({cmd:"cancelDone"})},terminateAllThreads:function(){for(var e in eC.pthreads){var r=eC.pthreads[e];r&&r.worker&&eC.returnWorkerToPool(r.worker)}eC.pthreads={};for(var n=0;n<eC.unusedWorkers.length;++n){var t=eC.unusedWorkers[n];t.terminate()}eC.unusedWorkers=[];for(var n=0;n<eC.runningWorkers.length;++n){var t=eC.runningWorkers[n],r=t.pthread;eC.freeThreadData(r),t.terminate()}eC.runningWorkers=[]},freeThreadData:function(e){if(e){if(e.threadInfoStruct){var r=x[e.threadInfoStruct+100>>2];x[e.threadInfoStruct+100>>2]=0,eY(r),eY(e.threadInfoStruct)}e.threadInfoStruct=0,e.allocatedOwnStack&&e.stackBase&&eY(e.stackBase),e.stackBase=0,e.worker&&(e.worker.pthread=null)}},returnWorkerToPool:function(e){eC.runWithoutMainThreadQueuedCalls(function(){delete eC.pthreads[e.pthread.threadInfoStruct],eC.unusedWorkers.push(e),eC.runningWorkers.splice(eC.runningWorkers.indexOf(e),1),eC.freeThreadData(e.pthread),e.pthread=void 0})},runWithoutMainThreadQueuedCalls:function(e){x[ry>>2]=0;try{e()}finally{x[ry>>2]=1}},receiveObjectTransfer:function(e){},threadInit:function(){for(var e in eC.tlsInitFunctions)eC.tlsInitFunctions[e]()},loadWasmModuleToWorker:function(r,n){r.onmessage=function(e){var t=e.data,a=t.cmd;if(r.pthread&&(eC.currentProxiedOperationCallerThread=r.pthread.threadInfoStruct),t.targetThread&&t.targetThread!=r8()){var i=eC.pthreads[t.targetThread];i?i.worker.postMessage(e.data,t.transferList):console.error('Internal error! Worker sent a message "'+a+'" to target pthread '+t.targetThread+", but that thread no longer exists!"),eC.currentProxiedOperationCallerThread=void 0;return}if("processQueuedMainThreadWork"===a)rs();else if("spawnThread"===a)eG(e.data);else if("cleanupThread"===a)eS(t.thread);else if("killThread"===a)!function e(r){if(M)throw"Internal Error! killThread() can only ever be called from main application thread!";if(!r)throw"Internal Error! Null pthread_ptr in killThread!";x[r+12>>2]=0;var n=eC.pthreads[r];n.worker.terminate(),eC.freeThreadData(n),eC.runningWorkers.splice(eC.runningWorkers.indexOf(n.worker),1),n.worker.pthread=void 0}(t.thread);else if("cancelThread"===a)!function e(r){if(M)throw"Internal Error! cancelThread() can only ever be called from main application thread!";if(!r)throw"Internal Error! Null pthread_ptr in cancelThread!";eC.pthreads[r].worker.postMessage({cmd:"cancel"})}(t.thread);else if("loaded"===a)r.loaded=!0,n&&n(r),r.runPthread&&(r.runPthread(),delete r.runPthread);else if("print"===a)U("Thread "+t.threadId+": "+t.text);else if("printErr"===a)V("Thread "+t.threadId+": "+t.text);else if("alert"===a)alert("Thread "+t.threadId+": "+t.text);else if("exit"===a)r.pthread&&Atomics.load(T,r.pthread.threadInfoStruct+64>>2)&&eC.returnWorkerToPool(r);else if("exitProcess"===a)try{(function e(r,n){if(v=r,!(n&&eA())||0!==r){var t;if(!n&&M)throw postMessage({cmd:"exitProcess",returnCode:r}),new rT(r);eA()||(eC.terminateAllThreads(),M||(ey(eu),void 0!==e9&&e9(0),(t=eB.buffers)[1].length&&eB.printChar(1,10),t[2].length&&eB.printChar(2,10),eC.runExitHandlers(),ef=!0),I.onExit&&I.onExit(r),J=!0),P(r,new rT(r))}})(t.returnCode)}catch(o){if(o instanceof rT)return;throw o}else"cancelDone"===a?eC.returnWorkerToPool(r):"objectTransfer"===a?eC.receiveObjectTransfer(e.data):"setimmediate"===e.data.target?r.postMessage(e.data):V("worker sent an unknown command "+a);eC.currentProxiedOperationCallerThread=void 0},r.onerror=function(e){V("pthread sent an error! "+e.filename+":"+e.lineno+": "+e.message)},j&&(r.on("message",function(e){r.onmessage({data:e})}),r.on("error",function(e){r.onerror(e)}),r.on("exit",function(e){})),r.postMessage({cmd:"load",urlOrBlob:I.mainScriptUrlOrBlob||e,wasmMemory:m,wasmModule:E})},allocateUnusedWorker:function(){var e=F("jxl_decoder.worker.js");eC.unusedWorkers.push(new Worker(e))},getNewWorker:function(){return 0==eC.unusedWorkers.length&&(eC.allocateUnusedWorker(),eC.loadWasmModuleToWorker(eC.unusedWorkers[0])),eC.unusedWorkers.pop()},busySpinWait:function(e){for(var r=performance.now()+e;performance.now()<r;);}};function eb(){var e=Error();if(!e.stack){try{throw Error()}catch(r){e=r}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}function eA(){return X||!1}function eI(e,r){if(M)return eL(1,1,e,r);eu.unshift({func:e,arg:r})}function eN(e,r){return eI(e,r)}I.establishStackSpace=function e(r,n){r_(r,n),rE(r)},I.invokeEntryPoint=function e(r,n){return S.get(r)(n)},I.keepRuntimeAlive=eA,C=j?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:M?function(){return performance.now()-I.__performance_now_clock_drift}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var eR=[];function e4(){!j&&(W||q("Blocking on the main thread is very dangerous, see https://emscripten.org/docs/porting/pthreads.html#blocking-on-the-main-browser-thread"))}function e1(e,r,n){if(e<=0||e>$.length||!0&e)return -28;if(D){if(Atomics.load(x,e>>2)!=r)return -6;for(var t=performance.now(),a=t+n,i=Atomics.exchange(x,rx>>2,e);;){if((t=performance.now())>a)return i=Atomics.exchange(x,rx>>2,0),-73;if(0==(i=Atomics.exchange(x,rx>>2,0)))break;if(rs(),Atomics.load(x,e>>2)!=r)return -6;i=Atomics.exchange(x,rx>>2,e)}return 0}var o=Atomics.wait(x,e>>2,r,n);if("timed-out"===o)return -73;if("not-equal"===o)return -6;if("ok"===o)return 0;throw"Atomics.wait returned an unexpected value "+o}function eL(e,r){for(var n=arguments.length-2,t=rm(),a=n,i=rv(8*a),o=i>>3,s=0;s<n;s++){var u=arguments[2+s];O[o+s]=u}var c=ru(e,a,i,r);return rE(t),c}var eP=[],e2={inEventHandler:0,removeAllEventListeners:function(){for(var e=e2.eventHandlers.length-1;e>=0;--e)e2._removeHandler(e);e2.eventHandlers=[],e2.deferredCalls=[]},registerRemoveEventListeners:function(){e2.removeEventListenersRegistered||(eu.push(e2.removeAllEventListeners),e2.removeEventListenersRegistered=!0)},deferredCalls:[],deferCall:function(e,r,n){function t(e,r){if(e.length!=r.length)return!1;for(var n in e)if(e[n]!=r[n])return!1;return!0}for(var a in e2.deferredCalls){var i=e2.deferredCalls[a];if(i.targetFunction==e&&t(i.argsList,n))return}e2.deferredCalls.push({targetFunction:e,precedence:r,argsList:n}),e2.deferredCalls.sort(function(e,r){return e.precedence<r.precedence})},removeDeferredCalls:function(e){for(var r=0;r<e2.deferredCalls.length;++r)e2.deferredCalls[r].targetFunction==e&&(e2.deferredCalls.splice(r,1),--r)},canPerformEventHandlerRequests:function(){return e2.inEventHandler&&e2.currentEventHandler.allowsDeferredCalls},runDeferredCalls:function(){if(e2.canPerformEventHandlerRequests())for(var e=0;e<e2.deferredCalls.length;++e){var r=e2.deferredCalls[e];e2.deferredCalls.splice(e,1),--e,r.targetFunction.apply(null,r.argsList)}},eventHandlers:[],removeAllHandlersOnTarget:function(e,r){for(var n=0;n<e2.eventHandlers.length;++n)e2.eventHandlers[n].target!=e||r&&r!=e2.eventHandlers[n].eventTypeString||e2._removeHandler(n--)},_removeHandler:function(e){var r=e2.eventHandlers[e];r.target.removeEventListener(r.eventTypeString,r.eventListenerFunc,r.useCapture),e2.eventHandlers.splice(e,1)},registerOrRemoveHandler:function(e){var r=function r(n){++e2.inEventHandler,e2.currentEventHandler=e,e2.runDeferredCalls(),e.handlerFunc(n),e2.runDeferredCalls(),--e2.inEventHandler};if(e.callbackfunc)e.eventListenerFunc=r,e.target.addEventListener(e.eventTypeString,r,e.useCapture),e2.eventHandlers.push(e),e2.registerRemoveEventListeners();else for(var n=0;n<e2.eventHandlers.length;++n)e2.eventHandlers[n].target==e.target&&e2.eventHandlers[n].eventTypeString==e.eventTypeString&&e2._removeHandler(n--)},queueEventHandlerOnThread_iiii:function(e,r,n,t,a){var i=rm(),o=rv(12);x[o>>2]=n,x[o+4>>2]=t,x[o+8>>2]=a,rc(0,e,637534208,r,t,o),rE(i)},getTargetThreadForEventCallback:function(e){switch(e){case 1:return 0;case 2:return eC.currentProxiedOperationCallerThread;default:return e}},getNodeNameForTarget:function(e){return e?e==window?"#window":e==screen?"#screen":e&&e.nodeName?e.nodeName:"":""},fullscreenEnabled:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled}},eD=[0,"undefined"!=typeof document?document:0,"undefined"!=typeof window?window:0];function e3(e){var r,n;return eD[r=(n=r=e)>2?en(n):n]||("undefined"!=typeof document?document.querySelector(r):void 0)}function eW(e,r,n){var t,a,i,o,s,u,c,l,f,d,p,h,m,E,v=e3(e);if(!v)return -4;if(v.canvasSharedPtr&&(x[v.canvasSharedPtr>>2]=r,x[v.canvasSharedPtr+4>>2]=n),v.offscreenCanvas||!v.controlTransferredOffscreen){v.offscreenCanvas&&(v=v.offscreenCanvas);var _=!1;if(v.GLctxObject&&v.GLctxObject.GLctx){var $=v.GLctxObject.GLctx.getParameter(2978);_=0===$[0]&&0===$[1]&&$[2]===v.width&&$[3]===v.height}v.width=r,v.height=n,_&&v.GLctxObject.GLctx.viewport(0,0,r,n)}else{if(!v.canvasSharedPtr)return -4;return p=x[v.canvasSharedPtr+8>>2],h=e,m=r,E=n,h=h?en(h):"",t=p,a=h,i=m,o=E,l=rm(),f=rv(12),d=0,a&&(d=(u=function e(r){for(var n=0,t=0;t<r.length;++t){var a=r.charCodeAt(t);a>=55296&&a<=57343&&(a=65536+((1023&a)<<10)|1023&r.charCodeAt(++t)),a<=127?++n:a<=2047?n+=2:a<=65535?n+=3:n+=4}return n}(s=a)+1,c=eJ(u),et(s,c,u),c)),x[f>>2]=d,x[f+4>>2]=i,x[f+8>>2]=o,rc(0,t,657457152,0,d,f),rE(l),1}return 0}function ej(e,r,n){return M?eL(2,1,e,r,n):eW(e,r,n)}var eH={counter:1,buffers:[],programs:[],framebuffers:[],renderbuffers:[],textures:[],shaders:[],vaos:[],contexts:{},offscreenCanvases:{},queries:[],stringCache:{},unpackAlignment:4,recordError:function e(r){eH.lastError||(eH.lastError=r)},getNewId:function(e){for(var r=eH.counter++,n=e.length;n<r;n++)e[n]=null;return r},getSource:function(e,r,n,t){for(var a="",i=0;i<r;++i){var o=t?x[t+4*i>>2]:-1;a+=en(x[n+4*i>>2],o<0?void 0:o)}return a},createContext:function(e,r){e.getContextSafariWebGL2Fixed||(e.getContextSafariWebGL2Fixed=e.getContext,e.getContext=function(r,n){var t=e.getContextSafariWebGL2Fixed(r,n);return"webgl"==r==t instanceof WebGLRenderingContext?t:null});var n=e.getContext("webgl",r);return n?eH.registerContext(n,r):0},registerContext:function(e,r){var n=eJ(8);x[n+4>>2]=r8();var t={handle:n,attributes:r,version:r.majorVersion,GLctx:e};return e.canvas&&(e.canvas.GLctxObject=t),eH.contexts[n]=t,(void 0===r.enableExtensionsByDefault||r.enableExtensionsByDefault)&&eH.initExtensions(t),n},makeContextCurrent:function(e){return eH.currentContext=eH.contexts[e],I.ctx=b=eH.currentContext&&eH.currentContext.GLctx,!(e&&!b)},getContext:function(e){return eH.contexts[e]},deleteContext:function(e){eH.currentContext===eH.contexts[e]&&(eH.currentContext=null),"object"==typeof e2&&e2.removeAllHandlersOnTarget(eH.contexts[e].GLctx.canvas),eH.contexts[e]&&eH.contexts[e].GLctx.canvas&&(eH.contexts[e].GLctx.canvas.GLctxObject=void 0),eY(eH.contexts[e].handle),eH.contexts[e]=null},initExtensions:function(e){if(e||(e=eH.currentContext),!e.initExtensionsDone){e.initExtensionsDone=!0;var r,n=e.GLctx;(function e(r){var n=r.getExtension("ANGLE_instanced_arrays");if(n)return r.vertexAttribDivisor=function(e,r){n.vertexAttribDivisorANGLE(e,r)},r.drawArraysInstanced=function(e,r,t,a){n.drawArraysInstancedANGLE(e,r,t,a)},r.drawElementsInstanced=function(e,r,t,a,i){n.drawElementsInstancedANGLE(e,r,t,a,i)},1})(n),function e(r){var n=r.getExtension("OES_vertex_array_object");if(n)return r.createVertexArray=function(){return n.createVertexArrayOES()},r.deleteVertexArray=function(e){n.deleteVertexArrayOES(e)},r.bindVertexArray=function(e){n.bindVertexArrayOES(e)},r.isVertexArray=function(e){return n.isVertexArrayOES(e)},1}(n),function e(r){var n=r.getExtension("WEBGL_draw_buffers");if(n)return r.drawBuffers=function(e,r){n.drawBuffersWEBGL(e,r)},1}(n),n.disjointTimerQueryExt=n.getExtension("EXT_disjoint_timer_query"),(r=n).multiDrawWebgl=r.getExtension("WEBGL_multi_draw"),(n.getSupportedExtensions()||[]).forEach(function(e){e.includes("lose_context")||e.includes("debug")||n.getExtension(e)})}}},eM=["default","low-power","high-performance"],eB={mappings:{},buffers:[null,[],[]],printChar:function(e,r){var n=eB.buffers[e];0===r||10===r?((1===e?U:V)(er(n,0)),n.length=0):n.push(r)},varargs:void 0,get:function(){return eB.varargs+=4,x[eB.varargs-4>>2]},getStr:function(e){return en(e)},get64:function(e,r){return e}};function e6(e){return M?eL(3,1,e):0}function e5(e,r,n,t,a){if(M)return eL(4,1,e,r,n,t,a)}function eF(e,r,n,t){if(M)return eL(5,1,e,r,n,t);for(var a=0,i=0;i<n;i++){for(var o=x[r+8*i>>2],s=x[r+(8*i+4)>>2],u=0;u<s;u++)eB.printChar(e,g[o+u]);a+=s}return x[t>>2]=a,0}function eG(e){if(M)throw"Internal Error! spawnThread() can only ever be called from main application thread!";var r=eC.getNewWorker();if(!r)return 6;if(void 0!==r.pthread)throw"Internal error!";if(!e.pthread_ptr)throw"Internal error, no pthread ptr!";eC.runningWorkers.push(r);for(var n=eJ(512),t=0;t<128;++t)x[n+4*t>>2]=0;var a=e.stackBase+e.stackSize,i=eC.pthreads[e.pthread_ptr]={worker:r,stackBase:e.stackBase,stackSize:e.stackSize,allocatedOwnStack:e.allocatedOwnStack,threadInfoStruct:e.pthread_ptr},o=i.threadInfoStruct>>2;Atomics.store(T,o+16,e.detached),Atomics.store(T,o+25,n),Atomics.store(T,o+10,i.threadInfoStruct),Atomics.store(T,o+20,e.stackSize),Atomics.store(T,o+19,a),Atomics.store(T,o+26,e.stackSize),Atomics.store(T,o+28,a),Atomics.store(T,o+29,e.detached);var s=rd();Atomics.store(T,o+43,s+40),r.pthread=i;var u={cmd:"run",start_routine:e.startRoutine,arg:e.arg,threadInfoStruct:e.pthread_ptr,stackBase:e.stackBase,stackSize:e.stackSize};return r.runPthread=function(){u.time=performance.now(),r.postMessage(u,e.transferList)},r.loaded&&(r.runPthread(),delete r.runPthread),0}function eU(){if(M){var e=r8();if(e&&!Atomics.load(T,e+56>>2)&&2==Atomics.load(T,e+0>>2))throw"Canceled!"}}function e7(e){Y(e)}M||eC.initMainThreadBlock();var eV=[null,eI,ej,e6,e5,eF],eq={__assert_fail:function e(r,n,t,a){ev("Assertion failed: "+en(r)+", at: "+[n?en(n):"unknown filename",t,a?en(a):"unknown function"])},__clock_gettime:function e(r,n){return function e(r,n){var t;if(0===r)t=Date.now();else{if(1!==r&&4!==r)return x[rf()>>2]=28,-1;t=C()}return x[n>>2]=t/1e3|0,x[n+4>>2]=t%1e3*1e6|0,0}(r,n)},__cxa_atexit:eN,__cxa_thread_atexit:function e(r,n){var t,a;return t=r,a=n,void eC.threadExitHandlers.push(function(){S.get(t)(a)})},_emscripten_notify_thread_queue:function e(r,n){if(r==n)postMessage({cmd:"processQueuedMainThreadWork"});else if(M)postMessage({targetThread:r,cmd:"processThreadQueue"});else{var t=eC.pthreads[r],a=t&&t.worker;if(!a)return;a.postMessage({cmd:"processThreadQueue"})}return 1},abort:function e(){ev()},emscripten_asm_const_int:function e(r,n,t){var a=function e(r,n){for(eR.length=0,n>>=2;t=g[r++];){var t,a=t<105;a&&1&n&&n++,eR.push(a?O[n++>>1]:x[n]),++n}return eR}(n,t);return ew[r].apply(null,a)},emscripten_check_blocking_allowed:e4,emscripten_conditional_set_current_thread_status:function e(r,n){},emscripten_futex_wait:e1,emscripten_futex_wake:eO,emscripten_get_now:C,emscripten_memcpy_big:function e(r,n,t){g.copyWithin(r,n,n+t)},emscripten_receive_on_main_thread_js:function e(r,n,t){eP.length=n;for(var a=t>>3,i=0;i<n;i++)eP[i]=O[a+i];return(r<0?ew[-r-1]:eV[r]).apply(null,eP)},emscripten_resize_heap:function e(r){var n;g.length,r>>>=0,ev("OOM")},emscripten_set_canvas_element_size:function e(r,n,t){return e3(r)?eW(r,n,t):ej(r,n,t)},emscripten_set_current_thread_status:function e(r){},emscripten_webgl_create_context:function e(r,n){var t,a,i,o,s,u;return t=r,a=n,i=a>>2,o=x[i+6],s={alpha:!!x[i+0],depth:!!x[i+1],stencil:!!x[i+2],antialias:!!x[i+3],premultipliedAlpha:!!x[i+4],preserveDrawingBuffer:!!x[i+5],powerPreference:eM[o],failIfMajorPerformanceCaveat:!!x[i+7],majorVersion:x[i+8],minorVersion:x[i+9],enableExtensionsByDefault:x[i+10],explicitSwapControl:x[i+11],proxyContextToMainThread:x[i+12],renderViaOffscreenBackBuffer:x[i+13]},u=e3(t),!u||s.explicitSwapControl?0:eH.createContext(u,s)},fd_close:e6,fd_seek:e5,fd_write:eF,initPthreadsJS:function e(){eC.initRuntime()},memory:m||I.wasmMemory,pthread_create:function e(r,n,t,a){if("undefined"==typeof SharedArrayBuffer)return V("Current environment does not support SharedArrayBuffer, pthreads are not available!"),6;if(!r)return V("pthread_create called with a null thread pointer!"),28;var i=[];if(M&&0===i.length)return ro(687865856,r,n,t,a);var o=0,s=0,u=0;n&&-1!=n?(o=x[n>>2],o+=81920,s=x[n+8>>2],u=0!==x[n+12>>2]):o=2097152;var c=0==s;c?s=rg(16,o):Z((s-=o)>0);for(var l=eJ(228),f=0;f<57;++f)T[(l>>2)+f]=0;x[r>>2]=l,x[l+12>>2]=l;var d=l+152;x[d>>2]=d;var p={stackBase:s,stackSize:o,allocatedOwnStack:c,detached:u,startRoutine:t,pthread_ptr:l,arg:a,transferList:i};return M?(p.cmd="spawnThread",postMessage(p,i),0):eG(p)},pthread_join:function e(r,n){return function e(r,n,t){if(!r)return V("pthread_join attempted on a null thread pointer!"),ek.ESRCH;if(M&&r8()==r)return V("PThread "+r+" is attempting to join to itself!"),ek.EDEADLK;if(!M&&rt()==r)return V("Main thread "+r+" is attempting to join to itself!"),ek.EDEADLK;if(x[r+12>>2]!==r)return V("pthread_join attempted on thread "+r+", which does not point to a valid thread, or does not exist anymore!"),ek.ESRCH;if(Atomics.load(T,r+64>>2))return V("Attempted to join thread "+r+", which was already detached!"),ek.EINVAL;for(t&&e4();;){var a=Atomics.load(T,r+0>>2);if(1==a){var i=Atomics.load(T,r+4>>2);return n&&(x[n>>2]=i),Atomics.store(T,r+64>>2,1),M?postMessage({cmd:"cleanupThread",thread:r}):eS(r),0}if(!t)return ek.EBUSY;eU(),M||rs(),e1(r+0,a,M?100:1)}}(r,n,!0)},setTempRet0:e7};(function e(){var r={env:eq,wasi_snapshot_preview1:eq};function n(e,r){var n,t=e.exports;if(I.asm=t,S=I.asm.__indirect_function_table,n=I.asm.__wasm_call_ctors,es.unshift(n),eC.tlsInitFunctions.push(I.asm.emscripten_tls_init),E=r,!M){var a=eC.unusedWorkers.length;eC.unusedWorkers.forEach(function(e){eC.loadWasmModuleToWorker(e,function(){--a||function e(r){if(eh--,I.monitorRunDependencies&&I.monitorRunDependencies(eh),0==eh&&(null!==em&&(clearInterval(em),em=null),eE)){var n=eE;eE=null,n()}}("wasm-instantiate")})})}}function t(e){n(e.instance,e.module)}function i(e){return(function e(){if(!h&&(D||W)){if("function"==typeof fetch&&!e$(eg))return fetch(eg,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+eg+"'";return e.arrayBuffer()}).catch(function(){return e0(eg)});if(s)return new Promise(function(e,r){s(eg,function(r){e(new Uint8Array(r))},r)})}return Promise.resolve().then(function(){return e0(eg)})})().then(function(e){return WebAssembly.instantiate(e,r)}).then(e,function(e){V("failed to asynchronously prepare wasm: "+e),ev(e)})}if(!M&&(Z(!M,"addRunDependency cannot be used in a pthread worker"),eh++,I.monitorRunDependencies&&I.monitorRunDependencies(eh)),I.instantiateWasm)try{return I.instantiateWasm(r,n)}catch(o){return V("Module.instantiateWasm callback failed with error: "+o),!1}return(h||"function"!=typeof WebAssembly.instantiateStreaming||e_(eg)||e$(eg)||"function"!=typeof fetch?i(t):fetch(eg,{credentials:"same-origin"}).then(function(e){return WebAssembly.instantiateStreaming(e,r).then(t,function(e){return V("wasm streaming compile failed: "+e),V("falling back to ArrayBuffer instantiation"),i(t)})})).catch(a),{}})();var ez=I.___wasm_call_ctors=function(){return(ez=I.___wasm_call_ctors=I.asm.__wasm_call_ctors).apply(null,arguments)},eK=I._jxlCreateInstance=function(){return(eK=I._jxlCreateInstance=I.asm.jxlCreateInstance).apply(null,arguments)},eQ=I._jxlDestroyInstance=function(){return(eQ=I._jxlDestroyInstance=I.asm.jxlDestroyInstance).apply(null,arguments)},eY=I._free=function(){return(eY=I._free=I.asm.free).apply(null,arguments)},eX=I._jxlProcessInput=function(){return(eX=I._jxlProcessInput=I.asm.jxlProcessInput).apply(null,arguments)},eJ=I._malloc=function(){return(eJ=I._malloc=I.asm.malloc).apply(null,arguments)},eZ=I._jxlFlush=function(){return(eZ=I._jxlFlush=I.asm.jxlFlush).apply(null,arguments)},e9=I._fflush=function(){return(e9=I._fflush=I.asm.fflush).apply(null,arguments)},re=I._emscripten_tls_init=function(){return(re=I._emscripten_tls_init=I.asm.emscripten_tls_init).apply(null,arguments)},rr=I._emscripten_current_thread_process_queued_calls=function(){return(rr=I._emscripten_current_thread_process_queued_calls=I.asm.emscripten_current_thread_process_queued_calls).apply(null,arguments)},rn=I._emscripten_register_main_browser_thread_id=function(){return(rn=I._emscripten_register_main_browser_thread_id=I.asm.emscripten_register_main_browser_thread_id).apply(null,arguments)},rt=I._emscripten_main_browser_thread_id=function(){return(rt=I._emscripten_main_browser_thread_id=I.asm.emscripten_main_browser_thread_id).apply(null,arguments)},ra=I.__emscripten_do_dispatch_to_thread=function(){return(ra=I.__emscripten_do_dispatch_to_thread=I.asm._emscripten_do_dispatch_to_thread).apply(null,arguments)},ri=I._emscripten_sync_run_in_main_thread_2=function(){return(ri=I._emscripten_sync_run_in_main_thread_2=I.asm.emscripten_sync_run_in_main_thread_2).apply(null,arguments)},ro=I._emscripten_sync_run_in_main_thread_4=function(){return(ro=I._emscripten_sync_run_in_main_thread_4=I.asm.emscripten_sync_run_in_main_thread_4).apply(null,arguments)},rs=I._emscripten_main_thread_process_queued_calls=function(){return(rs=I._emscripten_main_thread_process_queued_calls=I.asm.emscripten_main_thread_process_queued_calls).apply(null,arguments)},ru=I._emscripten_run_in_main_runtime_thread_js=function(){return(ru=I._emscripten_run_in_main_runtime_thread_js=I.asm.emscripten_run_in_main_runtime_thread_js).apply(null,arguments)},rc=I.__emscripten_call_on_thread=function(){return(rc=I.__emscripten_call_on_thread=I.asm._emscripten_call_on_thread).apply(null,arguments)},rl=I.__emscripten_thread_init=function(){return(rl=I.__emscripten_thread_init=I.asm._emscripten_thread_init).apply(null,arguments)},rf=I.___errno_location=function(){return(rf=I.___errno_location=I.asm.__errno_location).apply(null,arguments)},rd=I._emscripten_get_global_libc=function(){return(rd=I._emscripten_get_global_libc=I.asm.emscripten_get_global_libc).apply(null,arguments)},rp=I.___pthread_tsd_run_dtors=function(){return(rp=I.___pthread_tsd_run_dtors=I.asm.__pthread_tsd_run_dtors).apply(null,arguments)},r8=I._pthread_self=function(){return(r8=I._pthread_self=I.asm.pthread_self).apply(null,arguments)},rh=I.___emscripten_pthread_data_constructor=function(){return(rh=I.___emscripten_pthread_data_constructor=I.asm.__emscripten_pthread_data_constructor).apply(null,arguments)},rm=I.stackSave=function(){return(rm=I.stackSave=I.asm.stackSave).apply(null,arguments)},rE=I.stackRestore=function(){return(rE=I.stackRestore=I.asm.stackRestore).apply(null,arguments)},rv=I.stackAlloc=function(){return(rv=I.stackAlloc=I.asm.stackAlloc).apply(null,arguments)},r_=I._emscripten_stack_set_limits=function(){return(r_=I._emscripten_stack_set_limits=I.asm.emscripten_stack_set_limits).apply(null,arguments)},r$=I._setThrew=function(){return(r$=I._setThrew=I.asm.setThrew).apply(null,arguments)},rg=I._memalign=function(){return(rg=I._memalign=I.asm.memalign).apply(null,arguments)},r0=I.dynCall_iiji=function(){return(r0=I.dynCall_iiji=I.asm.dynCall_iiji).apply(null,arguments)},rw=I.dynCall_jiji=function(){return(rw=I.dynCall_jiji=I.asm.dynCall_jiji).apply(null,arguments)},ry=I.__emscripten_allow_main_runtime_queued_calls=159276,rx=I.__emscripten_main_thread_futex=170132;function rT(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function rk(e){if(e=e||R,!(eh>0)){if(M){t(I),ed(),postMessage({cmd:"loaded"});return}(function e(){if(!M){if(I.preRun)for("function"==typeof I.preRun&&(I.preRun=[I.preRun]);I.preRun.length;)ep(I.preRun.shift());ey(eo)}})(),!(eh>0)&&(I.setStatus?(I.setStatus("Running..."),setTimeout(function(){setTimeout(function(){I.setStatus("")},1),r()},1)):r())}function r(){!A&&(A=!0,I.calledRun=!0,J||(ed(),t(I),I.onRuntimeInitialized&&I.onRuntimeInitialized(),function e(){if(!M){if(I.postRun)for("function"==typeof I.postRun&&(I.postRun=[I.postRun]);I.postRun.length;)e8(I.postRun.shift());ey(ec)}}()))}}if(I.PThread=eC,I.PThread=eC,I.wasmMemory=m,I.ExitStatus=rT,eE=function e(){A||rk(),A||(eE=e)},I.run=rk,I.preInit)for("function"==typeof I.preInit&&(I.preInit=[I.preInit]);I.preInit.length>0;)I.preInit.pop()();return M&&(X=!1,eC.initWorker()),rk(),r.ready}}();"object"==typeof exports&&"object"==typeof module?module.exports=JxlCodecModule:"function"==typeof define&&define.amd?define([],function(){return JxlCodecModule}):"object"==typeof exports&&(exports.JxlCodecModule=JxlCodecModule);